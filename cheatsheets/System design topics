Image storage:

                                            File vs blob

1. Mutablity                                No      Yes
2. Index(search)                            No      Yes
3. Access control(user provisioning)        No      Yes
4. Cheaper                                  Yes     No    
5. Faster                                   Yes     No


How many users?
How many images?
Multiple places?

websocket or XMPP is way to have server to client communication 
Client -> gateway(auth verification) -> services -> DB & DFS(Distributed file system)
Session service for chat between two peaople

Load balancing - Consisten hashing: Can scale up easily by changing numbers
Caching Policies - LRU(Least Recently Used) LFU(Least freaquently used) problems: Cache is empty, policy doesnt workout, cache is too small, cache is expensive 

Regular shopping day - LFU, Valentines day - LRU